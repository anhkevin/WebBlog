<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" name="google-site-verification" content="qdcZOoSAayf1c2-iruOw1pnz-BDzHmir7xZmTNs6ajk"><meta data-n-head="ssr" data-hid="og:site_name" property="og:site_name" content="TianDev | Developer"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="website"><meta data-n-head="ssr" data-hid="fb:app_id" property="fb:app_id" content="399524598269268"><meta data-n-head="ssr" data-hid="twitter:site" name="twitter:site" content="@TianDev"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary_large_image"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://anhkevin.github.io/img/tiandev_card.png"><meta data-n-head="ssr" data-hid="og:image:secure_url" property="og:image:secure_url" content="https://anhkevin.github.io/img/tiandev_card.png"><meta data-n-head="ssr" data-hid="og:image:alt" property="og:image:alt" content="TianDev"><meta data-n-head="ssr" data-hid="twitter:image" name="twitter:image" content="https://anhkevin.github.io/img/tiandev_card.png"><meta data-n-head="ssr" data-hid="charset" charset="utf-8"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="TianDev"><meta data-n-head="ssr" data-hid="theme-color" name="theme-color" content="#00C58E"><meta data-n-head="ssr" data-hid="description" name="description" content="PHP 8.0 giới thiệu một số tính năng mới, trong đó đáng chú ý nhất là các kiểu liên hợp (union types), trình biên dịch Just In Time (JIT), toán tử nullsafe, thuộc tính (attributes) và đặt tên cho đối số (named arguments)"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://anhkevin.github.io/php-8-co-gi-moi/"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="PHP 8 có gì mới ? | TianDev"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="PHP 8.0 giới thiệu một số tính năng mới, trong đó đáng chú ý nhất là các kiểu liên hợp (union types), trình biên dịch Just In Time (JIT), toán tử nullsafe, thuộc tính (attributes) và đặt tên cho đối số (named arguments)"><meta data-n-head="ssr" data-hid="twitter:title" name="twitter:title" content="PHP 8 có gì mới ? | TianDev"><meta data-n-head="ssr" data-hid="twitter:description" name="twitter:description" content="PHP 8.0 giới thiệu một số tính năng mới, trong đó đáng chú ý nhất là các kiểu liên hợp (union types), trình biên dịch Just In Time (JIT), toán tử nullsafe, thuộc tính (attributes) và đặt tên cho đối số (named arguments)"><title>PHP 8 có gì mới ? | TianDev</title><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" data-hid="shortcut-icon" rel="shortcut icon" href="/public/icons/icon_64x64.06844b.png"><link data-n-head="ssr" data-hid="apple-touch-icon" rel="apple-touch-icon" href="/public/icons/icon_512x512.06844b.png" sizes="512x512"><link data-n-head="ssr" rel="manifest" href="/public/manifest.0ed28ab9.json" data-hid="manifest"><link data-n-head="ssr" data-hid="canonical" rel="canonical" href="https://anhkevin.github.io/php-8-co-gi-moi/"><link rel="preload" href="/public/822a6d4.js" as="script"><link rel="preload" href="/public/456c246.js" as="script"><link rel="preload" href="/public/css/58680b5.css" as="style"><link rel="preload" href="/public/3300160.js" as="script"><link rel="preload" href="/public/css/e34a429.css" as="style"><link rel="preload" href="/public/248cc6d.js" as="script"><link rel="preload" href="/public/ca4b905.js" as="script"><link rel="stylesheet" href="/public/css/58680b5.css"><link rel="stylesheet" href="/public/css/e34a429.css"><link rel="preload" href="/public/static/1735740447/php-8-co-gi-moi/state.js" as="script"><link rel="preload" href="/public/static/1735740447/php-8-co-gi-moi/payload.js" as="script"><link rel="preload" href="/public/static/1735740447/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__tiandev"><!----><div id="__layout"><div><header class="header text-center tiandev-header"><div class="force-overflow"><h1 class="blog-name pt-lg-4 mb-0"><a href="https://anhkevin.github.io" class="no-text-decoration">TianDev</a></h1> <nav class="navbar navbar-expand-lg navbar-dark"><button type="button" data-bs-toggle="collapse" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button> <div id="navigation" class="collapse navbar-collapse flex-column"><div class="profile-section pt-3 pt-lg-0"><img src="/img/tiandev_logo.png" alt="avatar" class="profile-image mb-3 rounded-circle mx-auto"> <div class="bio mb-3">
                        Welcome to Tiandev!<br>
                        Dive into the world of endless possibilities with us.
                    </div> <hr></div> <ul class="navbar-nav flex-column text-start"><li class="nav-item"><a href="https://anhkevin.github.io" class="nav-link"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-home fa-w-18 fa-fw me-2"><path fill="currentColor" d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>
                            Home
                        </a></li> <li class="nav-item"><a href="/tags/" class="nav-link"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="svg-inline--fa fa-tags fa-w-20 fa-fw me-2"><path fill="currentColor" d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"></path></svg>
                             Tags
                        </a></li> <li class="nav-item"><a href="/video/" class="nav-link"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="laptop-code" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg class="svg-inline--fa fa-laptop-code fa-w-20 fa-fw me-2"><path fill="currentColor" d="M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"></path></svg>
                            Video
                        </a></li> <li class="nav-item"><a href="/about/" class="nav-link"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="user" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg class="svg-inline--fa fa-user fa-w-14 fa-fw me-2"><path fill="currentColor" d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"></path></svg>
                            About Me
                        </a></li></ul></div></nav></div> <ul class="social-list list-inline py-2 mx-auto"><li class="list-inline-item"><a href="https://github.com/anhkevin" target="_blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512" data-fa-i2svg class="svg-inline--fa fa-github-alt fa-w-16 fa-fw"><path fill="currentColor" d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg></a></li> <li class="list-inline-item"><a href="javascript:window.open('mailto:' + ['anhkevin.ht','gmail.com'].join('@'))"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-envelope fa-w-16 fa-fw"><path fill="currentColor" d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a></li> <li class="list-inline-item"><a href="https://www.youtube.com/c/tiandev" target="_blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="youtube" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-youtube fa-w-16 fa-fw"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg></a></li></ul></header> <div class="main-wrapper"><article class="blog-post px-3 py-5 p-md-5"><div class="container single-col-max-width"><header class="blog-post-header"><h2 class="title mb-2">PHP 8 có gì mới ?</h2> <div class="meta mb-3"><span class="date">Posted: December 16, 2020</span> by <span class="author"> anhkevin </span></div></header> <div class="blog-post-body"><div class="nuxt-content"><p>PHP 8.0 giới thiệu một số tính năng mới, trong đó đáng chú ý nhất là các kiểu liên hợp (union types), trình biên dịch Just In Time (JIT), toán tử nullsafe, thuộc tính (attributes) và đặt tên cho đối số (named arguments)</p>
<ul>
<li>Trình biên dịch JIT được thiết kế để cải thiện hiệu suất cho các ứng dụng web.</li>
<li>Union types là một tính năng cho phép dữ liệu của nhiều kiểu được giữ bởi một biến.</li>
<li>Đặt tên cho các đối số cho phép các developer gán giá trị cho một hàm bằng cách chỉ định tên giá trị, cho phép bỏ qua các tham số tùy chọn.</li>
<li>Bên cạnh đó, phiên bản 8.0 của PHP mang đến những tối ưu hóa và cải tiến cho hệ thống kiểu, cú pháp, xử lý lỗi và tính nhất quán của ngôn ngữ.</li>
</ul>
<h2 id="php-jit-just-in-time"><a aria-hidden="true" href="#php-jit-just-in-time" tabindex="-1"><span class="icon icon-link"></span></a>PHP JIT (Just in Time)</h2>
<hr>
<p>Đây là một trong các tính năng được mong đợi nhất ở lần cập nhật này.
PHP JIT được thực hiện gần như độc lập, nó có thể được bật / tắt vào lúc biên dịch mã code PHP. Khi được bật, mã PHP được lưu trữ trong một vùng nhớ cache và sẽ được chạy khi có yêu cầu.
</p>
<p>=> Tracing JIT, hứa hẹn nhất vì cho thấy hiệu suất tốt hơn khoảng 3 lần trên các điểm chuẩn tổng hợp và cải thiện 1,5–2 lần trên một số ứng dụng chạy dài cụ thể.</p>
<p>Dưới đây là bảng so sánh hiệu suất của JIT trong PHP</p>
<img src="https://www.php.net/images/php8/scheme.svg" alt="scheme.svg">
<hr>
<h2 id="đối-số-được-đặt-tên-named-arguments"><a aria-hidden="true" href="#%C4%91%E1%BB%91i-s%E1%BB%91-%C4%91%C6%B0%E1%BB%A3c-%C4%91%E1%BA%B7t-t%C3%AAn-named-arguments" tabindex="-1"><span class="icon icon-link"></span></a>Đối số được đặt tên (Named arguments)</h2>
<hr>
<ul>
<li>Chỉ xác định các thông số bắt buộc, bỏ qua các thông số tùy chọn.</li>
<li>Các lập luận không phụ thuộc vào trật tự và tự ghi lại.</li>
</ul>
<h3 id="php-7"><a aria-hidden="true" href="#php-7" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">,</span> <span class="token class-name">ENT_COMPAT</span> <span class="token operator">|</span> <span class="token class-name">ENT_HTML401</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'UTF-8'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<h3 id="php-8"><a aria-hidden="true" href="#php-8" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">,</span> <span class="token argument-name">double_encode</span><span class="token punctuation">:</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<hr>
<h2 id="thuộc-tính-attributes"><a aria-hidden="true" href="#thu%E1%BB%99c-t%C3%ADnh-attributes" tabindex="-1"><span class="icon icon-link"></span></a>Thuộc tính (Attributes)</h2>
<hr>
<p>Thay vì chú thích PHPDoc, giờ bạn có thể sử dụng siêu dữ liệu có cấu trúc với cú pháp gốc của PHP.</p>
<h3 id="php-7-1"><a aria-hidden="true" href="#php-7-1" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">PostsController</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * @Route("/api/posts/<span class="token punctuation">{</span>id<span class="token punctuation">}</span>", methods=<span class="token punctuation">{</span>"GET"<span class="token punctuation">}</span>)
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">get</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h3 id="php-8-1"><a aria-hidden="true" href="#php-8-1" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">PostsController</span>
<span class="token punctuation">{</span>
    <span class="token attribute"><span class="token delimiter punctuation">#[</span><span class="token attribute-content"><span class="token attribute-class-name class-name">Route</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/api/posts/{id}"</span><span class="token punctuation">,</span> <span class="token attribute-class-name class-name">methods</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">"GET"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">]</span></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">get</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<hr>
<h2 id="khuyến-cáo-thuộc-tính-hàm-dựng-constructor-property-promotion"><a aria-hidden="true" href="#khuy%E1%BA%BFn-c%C3%A1o-thu%E1%BB%99c-t%C3%ADnh-h%C3%A0m-d%E1%BB%B1ng-constructor-property-promotion" tabindex="-1"><span class="icon icon-link"></span></a>Khuyến cáo thuộc tính hàm dựng (Constructor property promotion)</h2>
<hr>
<p>Thay đổi cách khai báo các tham số bằng cách đặt trong các tham số ở hàm khởi tạo luôn</p>
<h3 id="php-7-2"><a aria-hidden="true" href="#php-7-2" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$x</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$y</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$z</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span>
        <span class="token keyword type-hint">float</span> <span class="token variable">$x</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
        <span class="token keyword type-hint">float</span> <span class="token variable">$y</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
        <span class="token keyword type-hint">float</span> <span class="token variable">$z</span> <span class="token operator">=</span> <span class="token number">0.0</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token this keyword">$this</span><span class="token operator">-></span><span class="token property">x</span> <span class="token operator">=</span> <span class="token variable">$x</span><span class="token punctuation">;</span>
        <span class="token this keyword">$this</span><span class="token operator">-></span><span class="token property">y</span> <span class="token operator">=</span> <span class="token variable">$y</span><span class="token punctuation">;</span>
        <span class="token this keyword">$this</span><span class="token operator">-></span><span class="token property">z</span> <span class="token operator">=</span> <span class="token variable">$z</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h3 id="php-8-2"><a aria-hidden="true" href="#php-8-2" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span>
        <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$x</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
        <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$y</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
        <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$z</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<hr>
<h2 id="union-types"><a aria-hidden="true" href="#union-types" tabindex="-1"><span class="icon icon-link"></span></a>Union Types</h2>
<hr>
<p>Union types là một tập hợp của hai hoặc nhiều kiểu cho biết rằng một trong hai kiểu đó có thể được sử dụng</p>
<h3 id="php-7-3"><a aria-hidden="true" href="#php-7-3" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Number</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">|</span><span class="token keyword">float</span></span> */</span>
    <span class="token keyword">private</span> <span class="token variable">$number</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
    * <span class="token keyword">@param</span> <span class="token class-name"><span class="token keyword">float</span><span class="token punctuation">|</span><span class="token keyword">int</span></span> <span class="token parameter">$number</span>
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token this keyword">$this</span><span class="token operator">-></span><span class="token property">number</span> <span class="token operator">=</span> <span class="token variable">$number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'NaN'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span>
</code></pre></div>
<h3 id="php-8-3"><a aria-hidden="true" href="#php-8-3" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Number</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span>
        <span class="token keyword">private</span> <span class="token keyword type-declaration">int</span><span class="token operator">|</span><span class="token keyword type-declaration">float</span> <span class="token variable">$number</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'NaN'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError</span>
</code></pre></div>
<hr>
<h2 id="biểu-thức-hợp-nhau-match-expression"><a aria-hidden="true" href="#bi%E1%BB%83u-th%E1%BB%A9c-h%E1%BB%A3p-nhau-match-expression" tabindex="-1"><span class="icon icon-link"></span></a>Biểu thức hợp nhau (Match expression)</h2>
<hr>
<p>Match là biểu thức mới tương tự như switch và có các tính năng sau:</p>
<ul>
<li>Match là một biểu thức, có nghĩa là kết quả của nó có thể được lưu trữ trong một biến hoặc được trả về.</li>
<li>Các nhánh so sánh chỉ hỗ trợ các biểu thức một dòng và không cần break; để kết thúc lệnh.</li>
<li>Match không so sánh chặt chẽ.</li>
</ul>
<h3 id="php-7-4"><a aria-hidden="true" href="#php-7-4" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token number">8.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string single-quoted-string">'8.0'</span><span class="token punctuation">:</span>
        <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Oh no!"</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">8.0</span><span class="token punctuation">:</span>
        <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"This is what I expected"</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">echo</span> <span class="token variable">$result</span><span class="token punctuation">;</span>
<span class="token comment">//> Oh no!</span>
</code></pre></div>
<h3 id="php-8-4"><a aria-hidden="true" href="#php-8-4" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">echo</span> <span class="token keyword">match</span> <span class="token punctuation">(</span><span class="token number">8.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string single-quoted-string">'8.0'</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"Oh no!"</span><span class="token punctuation">,</span>
    <span class="token number">8.0</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"This is what I expected"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//> This is what I expected</span>
</code></pre></div>
<hr>
<h2 id="toán-tử-nullsafe-nullsafe-operator"><a aria-hidden="true" href="#to%C3%A1n-t%E1%BB%AD-nullsafe-nullsafe-operator" tabindex="-1"><span class="icon icon-link"></span></a>Toán tử Nullsafe (Nullsafe operator)</h2>
<hr>
<p>Thay vì kiểm tra điều kiện null, bây giờ có thể sử dụng một chuỗi các cuộc gọi với toán tử nullsafe mới. </p>
<p>Khi đánh giá một phần tử trong chuỗi fails, quá trình thực thi của toàn bộ chuỗi sẽ bị hủy bỏ và toàn bộ chuỗi được gán là null. </p>
<h3 id="php-7-5"><a aria-hidden="true" href="#php-7-5" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token variable">$country</span> <span class="token operator">=</span>  <span class="token constant">null</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$session</span> <span class="token operator">!==</span> <span class="token constant">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$user</span> <span class="token operator">=</span> <span class="token variable">$session</span><span class="token operator">-></span><span class="token property">user</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span> <span class="token operator">!==</span> <span class="token constant">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$address</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-></span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$address</span> <span class="token operator">!==</span> <span class="token constant">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$country</span> <span class="token operator">=</span> <span class="token variable">$address</span><span class="token operator">-></span><span class="token property">country</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h3 id="php-8-5"><a aria-hidden="true" href="#php-8-5" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token variable">$country</span> <span class="token operator">=</span> <span class="token variable">$session</span><span class="token operator">?-></span><span class="token property">user</span><span class="token operator">?-></span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?-></span><span class="token property">country</span><span class="token punctuation">;</span>
</code></pre></div>
<hr>
<h2 id="so-sánh-chuỗi-ký-tự-với-số-saner-string-to-number-comparisons"><a aria-hidden="true" href="#so-s%C3%A1nh-chu%E1%BB%97i-k%C3%BD-t%E1%BB%B1-v%E1%BB%9Bi-s%E1%BB%91-saner-string-to-number-comparisons" tabindex="-1"><span class="icon icon-link"></span></a>So sánh chuỗi ký tự với số (Saner string to number comparisons)</h2>
<hr>
<h3 id="php-7-6"><a aria-hidden="true" href="#php-7-6" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token number">0</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'foobar'</span> <span class="token comment">// true</span>
</code></pre></div>
<h3 id="php-8-6"><a aria-hidden="true" href="#php-8-6" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token number">0</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'foobar'</span> <span class="token comment">// false</span>
</code></pre></div>
<hr>
<h2 id="nhất-quán-lỗi-cho-các-hàm-nội-bộ-consistent-type-errors-for-internal-functions"><a aria-hidden="true" href="#nh%E1%BA%A5t-qu%C3%A1n-l%E1%BB%97i-cho-c%C3%A1c-h%C3%A0m-n%E1%BB%99i-b%E1%BB%99-consistent-type-errors-for-internal-functions" tabindex="-1"><span class="icon icon-link"></span></a>Nhất quán lỗi cho các Hàm nội bộ (Consistent type errors for internal functions)</h2>
<hr>
<p>Hầu hết các Hàm nội bộ sẽ ném Error exception nếu việc xác thực các tham số không thành công.</p>
<h3 id="php-7-7"><a aria-hidden="true" href="#php-7-7" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Warning: strlen() expects parameter 1 to be string, array given</span>

<span class="token function">array_chunk</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Warning: array_chunk(): Size parameter expected to be greater than 0</span>
</code></pre></div>
<h3 id="php-8-7"><a aria-hidden="true" href="#php-8-7" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: strlen(): Argument #1 ($str) must be of type string, array given</span>

<span class="token function">array_chunk</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ValueError: array_chunk(): Argument #2 ($length) must be greater than 0</span>
</code></pre></div>
<hr></div></div> <div class="blog-nav nav nav-justified my-5"><div class="post-tags mb-3"><span class="fw-bold">Tags: </span> <a href="/tags/PHP/" class="post-tag no-text-decoration"><span class="badge bg-light text-dark">PHP</span></a></div></div> <div class="blog-comments-section"><div id="disqus_thread" style="min-height:200px"></div></div></div></article> <footer class="footer text-center py-4"><small class="copyright">Copyright © 2024 - <a href="https://anhkevin.github.io" target="_blank">TianDev</a></small></footer></div></div></div></div><script defer src="/public/static/1735740447/php-8-co-gi-moi/state.js"></script><script src="/public/822a6d4.js" defer></script><script src="/public/ca4b905.js" defer></script><script src="/public/456c246.js" defer></script><script src="/public/3300160.js" defer></script><script src="/public/248cc6d.js" defer></script>
  </body>
</html>
