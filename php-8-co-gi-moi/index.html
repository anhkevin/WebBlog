<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>PHP 8 có gì mới ? | TianDev</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" name="google-site-verification" content="qdcZOoSAayf1c2-iruOw1pnz-BDzHmir7xZmTNs6ajk"><meta data-n-head="ssr" data-hid="og:site_name" property="og:site_name" content="TianDev | Developer Blog"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="website"><meta data-n-head="ssr" data-hid="fb:app_id" property="fb:app_id" content="399524598269268"><meta data-n-head="ssr" data-hid="twitter:site" name="twitter:site" content="@TianDev"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary_large_image"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://tiandev.net/img/tiandev_card.png"><meta data-n-head="ssr" data-hid="og:image:secure_url" property="og:image:secure_url" content="https://tiandev.net/img/tiandev_card.png"><meta data-n-head="ssr" data-hid="og:image:alt" property="og:image:alt" content="TianDev"><meta data-n-head="ssr" data-hid="twitter:image" name="twitter:image" content="https://tiandev.net/img/tiandev_card.png"><meta data-n-head="ssr" data-hid="charset" charset="utf-8"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="TianDev"><meta data-n-head="ssr" data-hid="theme-color" name="theme-color" content="#00C58E"><meta data-n-head="ssr" data-hid="description" name="description" content="PHP 8.0 giới thiệu một số tính năng mới, trong đó đáng chú ý nhất là các kiểu liên hợp (union types), trình biên dịch Just In Time (JIT), toán tử nullsafe, thuộc tính (attributes) và đặt tên cho đối số (named arguments)"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://tiandev.net/php-8-co-gi-moi/"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="PHP 8 có gì mới ? | TianDev"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="PHP 8.0 giới thiệu một số tính năng mới, trong đó đáng chú ý nhất là các kiểu liên hợp (union types), trình biên dịch Just In Time (JIT), toán tử nullsafe, thuộc tính (attributes) và đặt tên cho đối số (named arguments)"><meta data-n-head="ssr" data-hid="twitter:title" name="twitter:title" content="PHP 8 có gì mới ? | TianDev"><meta data-n-head="ssr" data-hid="twitter:description" name="twitter:description" content="PHP 8.0 giới thiệu một số tính năng mới, trong đó đáng chú ý nhất là các kiểu liên hợp (union types), trình biên dịch Just In Time (JIT), toán tử nullsafe, thuộc tính (attributes) và đặt tên cho đối số (named arguments)"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" data-hid="shortcut-icon" rel="shortcut icon" href="/public/icons/icon_64x64.06844b.png"><link data-n-head="ssr" data-hid="apple-touch-icon" rel="apple-touch-icon" href="/public/icons/icon_512x512.06844b.png" sizes="512x512"><link data-n-head="ssr" rel="manifest" href="/public/manifest.5c92551d.json" data-hid="manifest"><link data-n-head="ssr" data-hid="canonical" rel="canonical" href="https://tiandev.net/php-8-co-gi-moi/"><link rel="preload" href="/public/762dbf8.js" as="script"><link rel="preload" href="/public/2ae72be.js" as="script"><link rel="preload" href="/public/css/4e01be0.css" as="style"><link rel="preload" href="/public/38c9442.js" as="script"><link rel="preload" href="/public/css/612589e.css" as="style"><link rel="preload" href="/public/33b1cc2.js" as="script"><link rel="preload" href="/public/f804b6e.js" as="script"><link rel="stylesheet" href="/public/css/4e01be0.css"><link rel="stylesheet" href="/public/css/612589e.css"><link rel="preload" href="/public/static/1628438263/php-8-co-gi-moi/state.js" as="script"><link rel="preload" href="/public/static/1628438263/php-8-co-gi-moi/payload.js" as="script"><link rel="preload" href="/public/static/1628438263/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__tiandev"><!----><div id="__layout"><div><header class="header text-center"><div class="force-overflow"><h1 class="blog-name pt-lg-4 mb-0"><a href="https://tiandev.net" class="no-text-decoration">TianDev</a></h1> <nav class="navbar navbar-expand-lg navbar-dark"><button type="button" data-bs-toggle="collapse" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button> <div id="navigation" class="collapse navbar-collapse flex-column"><div class="profile-section pt-3 pt-lg-0"><img src="/img/tiandev_logo.png" alt="avatar" class="profile-image mb-3 rounded-circle mx-auto"> <div class="bio mb-3">
                        Chào mừng bạn đến với blog của tôi <br>
                        Là một "Developer notes" về lập trình
                    </div> <hr></div> <ul class="navbar-nav flex-column text-start"><li class="nav-item"><a href="https://tiandev.net" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-home"></i>
                            Home
                        </a></li> <li class="nav-item"><a href="/tags/" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-tags"></i>
                             Tags
                        </a></li> <li class="nav-item"><a href="/archives/" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-briefcase"></i>
                            Archives
                        </a></li> <li class="nav-item"><a href="/video/" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-laptop-code"></i>
                            Video
                        </a></li> <li class="nav-item"><a href="/about/" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-user"></i>
                            About Me
                        </a></li></ul></div></nav></div> <ul class="social-list list-inline py-2 mx-auto"><li class="list-inline-item"><a href="https://github.com/anhkevin" target="_blank"><i aria-hidden="true" class="inline--fa fab fa-github-alt"></i></a></li> <li class="list-inline-item"><a href="javascript:window.open('mailto:' + ['anhkevin.ht','gmail.com'].join('@'))"><i aria-hidden="true" class="inline--fa fa fa-envelope"></i></a></li> <li class="list-inline-item"><a href="https://www.youtube.com/c/tiandev" target="_blank"><i aria-hidden="true" class="inline--fa fab fa-youtube"></i></a></li></ul></header> <div class="main-wrapper"><article class="blog-post px-3 py-5 p-md-5"><div class="container single-col-max-width"><header class="blog-post-header"><h2 class="title mb-2">PHP 8 có gì mới ?</h2> <div class="meta mb-3"><span class="date">Posted: December 16, 2020</span> by <span class="author"> anhkevin </span></div></header> <div class="blog-post-body"><div class="nuxt-content"><p>PHP 8.0 giới thiệu một số tính năng mới, trong đó đáng chú ý nhất là các kiểu liên hợp (union types), trình biên dịch Just In Time (JIT), toán tử nullsafe, thuộc tính (attributes) và đặt tên cho đối số (named arguments)</p>
<ul>
<li>Trình biên dịch JIT được thiết kế để cải thiện hiệu suất cho các ứng dụng web.</li>
<li>Union types là một tính năng cho phép dữ liệu của nhiều kiểu được giữ bởi một biến.</li>
<li>Đặt tên cho các đối số cho phép các developer gán giá trị cho một hàm bằng cách chỉ định tên giá trị, cho phép bỏ qua các tham số tùy chọn.</li>
<li>Bên cạnh đó, phiên bản 8.0 của PHP mang đến những tối ưu hóa và cải tiến cho hệ thống kiểu, cú pháp, xử lý lỗi và tính nhất quán của ngôn ngữ.</li>
</ul>
<h2 id="php-jit-just-in-time"><a aria-hidden="true" href="#php-jit-just-in-time" tabindex="-1"><span class="icon icon-link"></span></a>PHP JIT (Just in Time)</h2>
<hr>
<p>Đây là một trong các tính năng được mong đợi nhất ở lần cập nhật này.
PHP JIT được thực hiện gần như độc lập, nó có thể được bật / tắt vào lúc biên dịch mã code PHP. Khi được bật, mã PHP được lưu trữ trong một vùng nhớ cache và sẽ được chạy khi có yêu cầu.
</p>
<p>=> Tracing JIT, hứa hẹn nhất vì cho thấy hiệu suất tốt hơn khoảng 3 lần trên các điểm chuẩn tổng hợp và cải thiện 1,5–2 lần trên một số ứng dụng chạy dài cụ thể.</p>
<p>Dưới đây là bảng so sánh hiệu suất của JIT trong PHP</p>
<img src="https://www.php.net/images/php8/scheme.svg" alt="scheme.svg">
<hr>
<h2 id="đối-số-được-đặt-tên-named-arguments"><a aria-hidden="true" href="#%C4%91%E1%BB%91i-s%E1%BB%91-%C4%91%C6%B0%E1%BB%A3c-%C4%91%E1%BA%B7t-t%C3%AAn-named-arguments" tabindex="-1"><span class="icon icon-link"></span></a>Đối số được đặt tên (Named arguments)</h2>
<hr>
<ul>
<li>Chỉ xác định các thông số bắt buộc, bỏ qua các thông số tùy chọn.</li>
<li>Các lập luận không phụ thuộc vào trật tự và tự ghi lại.</li>
</ul>
<h3 id="php-7"><a aria-hidden="true" href="#php-7" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">,</span> <span class="token class-name">ENT_COMPAT</span> <span class="token operator">|</span> <span class="token class-name">ENT_HTML401</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'UTF-8'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<h3 id="php-8"><a aria-hidden="true" href="#php-8" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">,</span> <span class="token argument-name">double_encode</span><span class="token punctuation">:</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<hr>
<h2 id="thuộc-tính-attributes"><a aria-hidden="true" href="#thu%E1%BB%99c-t%C3%ADnh-attributes" tabindex="-1"><span class="icon icon-link"></span></a>Thuộc tính (Attributes)</h2>
<hr>
<p>Thay vì chú thích PHPDoc, giờ bạn có thể sử dụng siêu dữ liệu có cấu trúc với cú pháp gốc của PHP.</p>
<h3 id="php-7-1"><a aria-hidden="true" href="#php-7-1" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">PostsController</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * @Route("/api/posts/<span class="token punctuation">{</span>id<span class="token punctuation">}</span>", methods=<span class="token punctuation">{</span>"GET"<span class="token punctuation">}</span>)
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">get</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h3 id="php-8-1"><a aria-hidden="true" href="#php-8-1" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">PostsController</span>
<span class="token punctuation">{</span>
    <span class="token attribute"><span class="token delimiter punctuation">#[</span><span class="token attribute-content"><span class="token attribute-class-name class-name">Route</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/api/posts/{id}"</span><span class="token punctuation">,</span> <span class="token attribute-class-name class-name">methods</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">"GET"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">]</span></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">get</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<hr>
<h2 id="khuyến-cáo-thuộc-tính-hàm-dựng-constructor-property-promotion"><a aria-hidden="true" href="#khuy%E1%BA%BFn-c%C3%A1o-thu%E1%BB%99c-t%C3%ADnh-h%C3%A0m-d%E1%BB%B1ng-constructor-property-promotion" tabindex="-1"><span class="icon icon-link"></span></a>Khuyến cáo thuộc tính hàm dựng (Constructor property promotion)</h2>
<hr>
<p>Thay đổi cách khai báo các tham số bằng cách đặt trong các tham số ở hàm khởi tạo luôn</p>
<h3 id="php-7-2"><a aria-hidden="true" href="#php-7-2" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$x</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$y</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$z</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span>
        <span class="token keyword type-hint">float</span> <span class="token variable">$x</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
        <span class="token keyword type-hint">float</span> <span class="token variable">$y</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
        <span class="token keyword type-hint">float</span> <span class="token variable">$z</span> <span class="token operator">=</span> <span class="token number">0.0</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token this">$this</span><span class="token operator">-></span><span class="token property">x</span> <span class="token operator">=</span> <span class="token variable">$x</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-></span><span class="token property">y</span> <span class="token operator">=</span> <span class="token variable">$y</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-></span><span class="token property">z</span> <span class="token operator">=</span> <span class="token variable">$z</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h3 id="php-8-2"><a aria-hidden="true" href="#php-8-2" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span>
        <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$x</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
        <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$y</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
        <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$z</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<hr>
<h2 id="union-types"><a aria-hidden="true" href="#union-types" tabindex="-1"><span class="icon icon-link"></span></a>Union Types</h2>
<hr>
<p>Union types là một tập hợp của hai hoặc nhiều kiểu cho biết rằng một trong hai kiểu đó có thể được sử dụng</p>
<h3 id="php-7-3"><a aria-hidden="true" href="#php-7-3" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Number</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">|</span><span class="token keyword">float</span></span> */</span>
    <span class="token keyword">private</span> <span class="token variable">$number</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
    * <span class="token keyword">@param</span> <span class="token class-name"><span class="token keyword">float</span><span class="token punctuation">|</span><span class="token keyword">int</span></span> <span class="token parameter">$number</span>
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token this">$this</span><span class="token operator">-></span><span class="token property">number</span> <span class="token operator">=</span> <span class="token variable">$number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'NaN'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span>
</code></pre></div>
<h3 id="php-8-3"><a aria-hidden="true" href="#php-8-3" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">Number</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span>
        <span class="token keyword">private</span> <span class="token keyword type-declaration">int</span><span class="token operator">|</span><span class="token keyword type-declaration">float</span> <span class="token variable">$number</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'NaN'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError</span>
</code></pre></div>
<hr>
<h2 id="biểu-thức-hợp-nhau-match-expression"><a aria-hidden="true" href="#bi%E1%BB%83u-th%E1%BB%A9c-h%E1%BB%A3p-nhau-match-expression" tabindex="-1"><span class="icon icon-link"></span></a>Biểu thức hợp nhau (Match expression)</h2>
<hr>
<p>Match là biểu thức mới tương tự như switch và có các tính năng sau:</p>
<ul>
<li>Match là một biểu thức, có nghĩa là kết quả của nó có thể được lưu trữ trong một biến hoặc được trả về.</li>
<li>Các nhánh so sánh chỉ hỗ trợ các biểu thức một dòng và không cần break; để kết thúc lệnh.</li>
<li>Match không so sánh chặt chẽ.</li>
</ul>
<h3 id="php-7-4"><a aria-hidden="true" href="#php-7-4" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token number">8.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string single-quoted-string">'8.0'</span><span class="token punctuation">:</span>
        <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Oh no!"</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">8.0</span><span class="token punctuation">:</span>
        <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"This is what I expected"</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">echo</span> <span class="token variable">$result</span><span class="token punctuation">;</span>
<span class="token comment">//> Oh no!</span>
</code></pre></div>
<h3 id="php-8-4"><a aria-hidden="true" href="#php-8-4" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token keyword">echo</span> <span class="token keyword">match</span> <span class="token punctuation">(</span><span class="token number">8.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string single-quoted-string">'8.0'</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"Oh no!"</span><span class="token punctuation">,</span>
    <span class="token number">8.0</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"This is what I expected"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//> This is what I expected</span>
</code></pre></div>
<hr>
<h2 id="toán-tử-nullsafe-nullsafe-operator"><a aria-hidden="true" href="#to%C3%A1n-t%E1%BB%AD-nullsafe-nullsafe-operator" tabindex="-1"><span class="icon icon-link"></span></a>Toán tử Nullsafe (Nullsafe operator)</h2>
<hr>
<p>Thay vì kiểm tra điều kiện null, bây giờ có thể sử dụng một chuỗi các cuộc gọi với toán tử nullsafe mới. </p>
<p>Khi đánh giá một phần tử trong chuỗi fails, quá trình thực thi của toàn bộ chuỗi sẽ bị hủy bỏ và toàn bộ chuỗi được gán là null. </p>
<h3 id="php-7-5"><a aria-hidden="true" href="#php-7-5" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token variable">$country</span> <span class="token operator">=</span>  <span class="token constant">null</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$session</span> <span class="token operator">!==</span> <span class="token constant">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$user</span> <span class="token operator">=</span> <span class="token variable">$session</span><span class="token operator">-></span><span class="token property">user</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span> <span class="token operator">!==</span> <span class="token constant">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$address</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-></span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$address</span> <span class="token operator">!==</span> <span class="token constant">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$country</span> <span class="token operator">=</span> <span class="token variable">$address</span><span class="token operator">-></span><span class="token property">country</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h3 id="php-8-5"><a aria-hidden="true" href="#php-8-5" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token variable">$country</span> <span class="token operator">=</span> <span class="token variable">$session</span><span class="token operator">?-></span><span class="token property">user</span><span class="token operator">?-></span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?-></span><span class="token property">country</span><span class="token punctuation">;</span>
</code></pre></div>
<hr>
<h2 id="so-sánh-chuỗi-ký-tự-với-số-saner-string-to-number-comparisons"><a aria-hidden="true" href="#so-s%C3%A1nh-chu%E1%BB%97i-k%C3%BD-t%E1%BB%B1-v%E1%BB%9Bi-s%E1%BB%91-saner-string-to-number-comparisons" tabindex="-1"><span class="icon icon-link"></span></a>So sánh chuỗi ký tự với số (Saner string to number comparisons)</h2>
<hr>
<h3 id="php-7-6"><a aria-hidden="true" href="#php-7-6" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token number">0</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'foobar'</span> <span class="token comment">// true</span>
</code></pre></div>
<h3 id="php-8-6"><a aria-hidden="true" href="#php-8-6" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token number">0</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'foobar'</span> <span class="token comment">// false</span>
</code></pre></div>
<hr>
<h2 id="nhất-quán-lỗi-cho-các-hàm-nội-bộ-consistent-type-errors-for-internal-functions"><a aria-hidden="true" href="#nh%E1%BA%A5t-qu%C3%A1n-l%E1%BB%97i-cho-c%C3%A1c-h%C3%A0m-n%E1%BB%99i-b%E1%BB%99-consistent-type-errors-for-internal-functions" tabindex="-1"><span class="icon icon-link"></span></a>Nhất quán lỗi cho các Hàm nội bộ (Consistent type errors for internal functions)</h2>
<hr>
<p>Hầu hết các Hàm nội bộ sẽ ném Error exception nếu việc xác thực các tham số không thành công.</p>
<h3 id="php-7-7"><a aria-hidden="true" href="#php-7-7" tabindex="-1"><span class="icon icon-link"></span></a>PHP 7:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Warning: strlen() expects parameter 1 to be string, array given</span>

<span class="token function">array_chunk</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Warning: array_chunk(): Size parameter expected to be greater than 0</span>
</code></pre></div>
<h3 id="php-8-7"><a aria-hidden="true" href="#php-8-7" tabindex="-1"><span class="icon icon-link"></span></a>PHP 8:</h3>
<div class="nuxt-content-highlight"><pre class="language-php line-numbers"><code><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: strlen(): Argument #1 ($str) must be of type string, array given</span>

<span class="token function">array_chunk</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ValueError: array_chunk(): Argument #2 ($length) must be greater than 0</span>
</code></pre></div>
<hr></div></div> <div class="blog-nav nav nav-justified my-5"><div class="post-tags mb-3"><span class="fw-bold">Tags: </span> <a href="/tags/PHP" class="post-tag no-text-decoration"><span class="badge bg-light text-dark">PHP</span></a></div></div> <div class="blog-comments-section"><div id="disqus_thread" style="min-height:200px"></div></div></div></article> <footer class="footer text-center py-4"><small class="copyright">Copyright © 2021 - <a href="https://tiandev.net" target="_blank">TianDev</a></small></footer></div></div></div></div><script defer src="/public/static/1628438263/php-8-co-gi-moi/state.js"></script><script src="/public/762dbf8.js" defer></script><script src="/public/f804b6e.js" defer></script><script src="/public/2ae72be.js" defer></script><script src="/public/38c9442.js" defer></script><script src="/public/33b1cc2.js" defer></script>
  </body>
</html>
