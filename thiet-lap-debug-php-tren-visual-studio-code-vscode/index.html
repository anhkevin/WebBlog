<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Thiết lập debug php trên Visual Studio Code (VSCode) | TianDev</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" name="google-site-verification" content="qdcZOoSAayf1c2-iruOw1pnz-BDzHmir7xZmTNs6ajk"><meta data-n-head="ssr" data-hid="og:site_name" property="og:site_name" content="TianDev | Developer Blog"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="website"><meta data-n-head="ssr" data-hid="fb:app_id" property="fb:app_id" content="399524598269268"><meta data-n-head="ssr" data-hid="twitter:site" name="twitter:site" content="@TianDev"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary_large_image"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://tiandev.net/img/tiandev_card.png"><meta data-n-head="ssr" data-hid="og:image:secure_url" property="og:image:secure_url" content="https://tiandev.net/img/tiandev_card.png"><meta data-n-head="ssr" data-hid="og:image:alt" property="og:image:alt" content="TianDev"><meta data-n-head="ssr" data-hid="twitter:image" name="twitter:image" content="https://tiandev.net/img/tiandev_card.png"><meta data-n-head="ssr" data-hid="charset" charset="utf-8"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="TianDev"><meta data-n-head="ssr" data-hid="theme-color" name="theme-color" content="#00C58E"><meta data-n-head="ssr" data-hid="description" name="description" content="Xdebug là thư viện được viết ra để hỗ trợ việc tìm ra lỗi trong ứng dụng viết bằng PHP một cách hiệu quả hơn."><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://tiandev.net/thiet-lap-debug-php-tren-visual-studio-code-vscode/"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="Thiết lập debug php trên Visual Studio Code (VSCode) | TianDev"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="Xdebug là thư viện được viết ra để hỗ trợ việc tìm ra lỗi trong ứng dụng viết bằng PHP một cách hiệu quả hơn."><meta data-n-head="ssr" data-hid="twitter:title" name="twitter:title" content="Thiết lập debug php trên Visual Studio Code (VSCode) | TianDev"><meta data-n-head="ssr" data-hid="twitter:description" name="twitter:description" content="Xdebug là thư viện được viết ra để hỗ trợ việc tìm ra lỗi trong ứng dụng viết bằng PHP một cách hiệu quả hơn."><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" data-hid="shortcut-icon" rel="shortcut icon" href="/public/icons/icon_64x64.06844b.png"><link data-n-head="ssr" data-hid="apple-touch-icon" rel="apple-touch-icon" href="/public/icons/icon_512x512.06844b.png" sizes="512x512"><link data-n-head="ssr" rel="manifest" href="/public/manifest.5c92551d.json" data-hid="manifest"><link data-n-head="ssr" data-hid="canonical" rel="canonical" href="https://tiandev.net/thiet-lap-debug-php-tren-visual-studio-code-vscode/"><link rel="preload" href="/public/762dbf8.js" as="script"><link rel="preload" href="/public/2ae72be.js" as="script"><link rel="preload" href="/public/css/4e01be0.css" as="style"><link rel="preload" href="/public/38c9442.js" as="script"><link rel="preload" href="/public/css/612589e.css" as="style"><link rel="preload" href="/public/33b1cc2.js" as="script"><link rel="preload" href="/public/f804b6e.js" as="script"><link rel="stylesheet" href="/public/css/4e01be0.css"><link rel="stylesheet" href="/public/css/612589e.css"><link rel="preload" href="/public/static/1628438263/thiet-lap-debug-php-tren-visual-studio-code-vscode/state.js" as="script"><link rel="preload" href="/public/static/1628438263/thiet-lap-debug-php-tren-visual-studio-code-vscode/payload.js" as="script"><link rel="preload" href="/public/static/1628438263/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__tiandev"><!----><div id="__layout"><div><header class="header text-center"><div class="force-overflow"><h1 class="blog-name pt-lg-4 mb-0"><a href="https://tiandev.net" class="no-text-decoration">TianDev</a></h1> <nav class="navbar navbar-expand-lg navbar-dark"><button type="button" data-bs-toggle="collapse" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button> <div id="navigation" class="collapse navbar-collapse flex-column"><div class="profile-section pt-3 pt-lg-0"><img src="/img/tiandev_logo.png" alt="avatar" class="profile-image mb-3 rounded-circle mx-auto"> <div class="bio mb-3">
                        Chào mừng bạn đến với blog của tôi <br>
                        Là một "Developer notes" về lập trình
                    </div> <hr></div> <ul class="navbar-nav flex-column text-start"><li class="nav-item"><a href="https://tiandev.net" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-home"></i>
                            Home
                        </a></li> <li class="nav-item"><a href="/tags/" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-tags"></i>
                             Tags
                        </a></li> <li class="nav-item"><a href="/archives/" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-briefcase"></i>
                            Archives
                        </a></li> <li class="nav-item"><a href="/video/" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-laptop-code"></i>
                            Video
                        </a></li> <li class="nav-item"><a href="/about/" class="nav-link"><i aria-hidden="true" class="inline--fa fa fa-user"></i>
                            About Me
                        </a></li></ul></div></nav></div> <ul class="social-list list-inline py-2 mx-auto"><li class="list-inline-item"><a href="https://github.com/anhkevin" target="_blank"><i aria-hidden="true" class="inline--fa fab fa-github-alt"></i></a></li> <li class="list-inline-item"><a href="javascript:window.open('mailto:' + ['anhkevin.ht','gmail.com'].join('@'))"><i aria-hidden="true" class="inline--fa fa fa-envelope"></i></a></li> <li class="list-inline-item"><a href="https://www.youtube.com/c/tiandev" target="_blank"><i aria-hidden="true" class="inline--fa fab fa-youtube"></i></a></li></ul></header> <div class="main-wrapper"><article class="blog-post px-3 py-5 p-md-5"><div class="container single-col-max-width"><header class="blog-post-header"><h2 class="title mb-2">Thiết lập debug php trên Visual Studio Code (VSCode)</h2> <div class="meta mb-3"><span class="date">Posted: December 15, 2019</span> by <span class="author"> anhkevin </span></div></header> <div class="blog-post-body"><div class="nuxt-content"><p><strong>Xdebug</strong> là thư viện được viết ra để hỗ trợ việc tìm ra lỗi trong ứng dụng viết bằng PHP một cách hiệu quả hơn. Các công cụ hỗ trợ tìm ra lỗi của ứng dụng như Xdebug được gọi là debugger, đặc biệt <strong>Xdebug</strong> cho phép kết nối đến các IDE (như Visual Studio Code, Sublime Text, PHPStorm …) để gỡ rối mã PHP, lúc này từ IDE có thể thực hiện việc đặt các breakpoint (điểm dừng mã để trích xuất, xem các thông tin …) cũng như các thao tác Debug như : Step Into, Step Over, Restart …</p>
<h1 id="cài-đặt-xdebug-php-trên-windows"><a href="#c%C3%A0i-%C4%91%E1%BA%B7t-xdebug-php-tr%C3%AAn-windows" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Cài đặt Xdebug PHP trên Windows</h1>
<h3 id="bước-1-cài-đặt-xdebug"><a href="#b%C6%B0%E1%BB%9Bc-1-c%C3%A0i-%C4%91%E1%BA%B7t-xdebug" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Bước 1.</strong> Cài đặt <strong>Xdebug:</strong> </h3>
<ul>
<li>Download file DLL đúng phiên bản PHP đang cài đặt tại đây <a href="https://xdebug.org/download" rel="nofollow noopener noreferrer" target="_blank">https://xdebug.org/download</a></li>
<li>Copy file DLL vừa download vào thư mục *<em>C:\xampp\php\ext*</em></li>
</ul>
<h3 id="bước-2-thêm-cấu-hình-xdebug-vào-phpini-xamppphpphpini"><a href="#b%C6%B0%E1%BB%9Bc-2-th%C3%AAm-c%E1%BA%A5u-h%C3%ACnh-xdebug-v%C3%A0o-phpini-xamppphpphpini" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Bước 2.</strong> Thêm cấu hình Xdebug vào php.ini (\xampp\php\php.ini)</h3>
<div class="nuxt-content-highlight"><pre class="language-shell line-numbers"><code><span class="token punctuation">[</span>XDebug<span class="token punctuation">]</span> 
<span class="token assign-left variable">zend_extension</span><span class="token operator">=</span>C:<span class="token punctuation">\</span>xampp<span class="token punctuation">\</span>php<span class="token punctuation">\</span>ext<span class="token punctuation">\</span>php_xdebug-xxx.dll 
xdebug.remote_enable <span class="token operator">=</span> <span class="token number">1</span> 
xdebug.remote_autostart <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div>
<p>php_xdebug-xxx.dll: là file vừa download ở bước 1</p>
<p>Sử dụng phpinfo() hoặc vào CMD gõ php -v để xem Xdebug đã cấu hình chưa.</p>
<h3 id="bước-3-cài-đặt-php-debug-extension-trong-vs-code"><a href="#b%C6%B0%E1%BB%9Bc-3-c%C3%A0i-%C4%91%E1%BA%B7t-php-debug-extension-trong-vs-code" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Bước 3.</strong> Cài đặt PHP Debug Extension trong VS Code</h3>
<p>Link: <a href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-debug" rel="nofollow noopener noreferrer" target="_blank">https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-debug</a><br>
<a href="/img/uploads/2019/10/Xdebug.jpg"><img class="aligncenter wp-image-653 size-full" src="/img/uploads/2019/10/Xdebug.jpg" alt="" width="1070" height="323" srcset="/img/uploads/2019/10/Xdebug.jpg 1070w /img/uploads/2019/10/Xdebug-300x91.jpg 300w /img/uploads/2019/10/Xdebug-1024x309.jpg 1024w /img/uploads/2019/10/Xdebug-768x232.jpg 768w /img/uploads/2019/10/Xdebug-150x45.jpg 150w" sizes="(max-width: 1070px) 100vw, 1070px"></a></p>
<h3 id="bước-4-add-config-cho-project-php-và-sử-dụng"><a href="#b%C6%B0%E1%BB%9Bc-4-add-config-cho-project-php-v%C3%A0-s%E1%BB%AD-d%E1%BB%A5ng" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Bước 4.</strong> Add config cho project PHP và sử dụng</h3>
<ul>
<li>Chọn hình cọn bọ và bấm vào chỗ bánh xe để add config cho project cần debug -> sau khi add xong sẽ tạo ra 1 file <strong>launch.json</strong> giống như bên dưới</li>
</ul>
<div class="nuxt-content-highlight"><pre class="language-shell line-numbers"><code><span class="token punctuation">{</span>
    <span class="token string">"version"</span><span class="token builtin class-name">:</span> <span class="token string">"0.2.0"</span>,
    <span class="token string">"configurations"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Listen for Xdebug"</span>,
            <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"php"</span>,
            <span class="token string">"request"</span><span class="token builtin class-name">:</span> <span class="token string">"launch"</span>,
            <span class="token string">"port"</span><span class="token builtin class-name">:</span> <span class="token number">9000</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
            <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Launch currently open script"</span>,
            <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"php"</span>,
            <span class="token string">"request"</span><span class="token builtin class-name">:</span> <span class="token string">"launch"</span>,
            <span class="token string">"program"</span><span class="token builtin class-name">:</span> <span class="token string">"<span class="token variable">${file}</span>"</span>,
            <span class="token string">"cwd"</span><span class="token builtin class-name">:</span> <span class="token string">"<span class="token variable">${fileDirname}</span>"</span>,
            <span class="token string">"port"</span><span class="token builtin class-name">:</span> <span class="token number">9000</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div>
<ul>
<li>Bây giờ có thể đặt breakpoint và bấm vào nút mũi tên xanh để bắt đầu debug.</li>
</ul>
<p><a href="/img/uploads/2019/10/Xdebug3.jpg"><img class="wp-image-655 size-full aligncenter" src="/img/uploads/2019/10/Xdebug3.jpg" alt="" width="1090" height="377" srcset="/img/uploads/2019/10/Xdebug3.jpg 1090w /img/uploads/2019/10/Xdebug3-300x104.jpg 300w /img/uploads/2019/10/Xdebug3-1024x354.jpg 1024w /img/uploads/2019/10/Xdebug3-768x266.jpg 768w /img/uploads/2019/10/Xdebug3-150x52.jpg 150w" sizes="(max-width: 1090px) 100vw, 1090px"></a></p>
<h1 id="cài-đặt-xdebug-để-remote-debug"><a href="#c%C3%A0i-%C4%91%E1%BA%B7t-xdebug-%C4%91%E1%BB%83-remote-debug" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Cài đặt XDebug để Remote Debug</h1>
<h3 id="bước-1-cài-đặt-xdebug-1"><a href="#b%C6%B0%E1%BB%9Bc-1-c%C3%A0i-%C4%91%E1%BA%B7t-xdebug-1" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Bước 1.</strong> Cài đặt <strong>Xdebug:</strong> </h3>
<p>// Install Xdebug through PECL on Linux</p>
<div class="nuxt-content-highlight"><pre class="language-shell line-numbers"><code>pecl <span class="token function">install</span> Xdebug
</code></pre></div>
<p>Nếu PHP 5.3 thì chạy lệnh:</p>
<div class="nuxt-content-highlight"><pre class="language-shell line-numbers"><code>pecl <span class="token function">install</span> xdebug-2.2.7
</code></pre></div>
<h3 id="bước-2-thêm-cấu-hình-xdebug-vào-phpini"><a href="#b%C6%B0%E1%BB%9Bc-2-th%C3%AAm-c%E1%BA%A5u-h%C3%ACnh-xdebug-v%C3%A0o-phpini" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Bước 2.</strong> Thêm cấu hình Xdebug vào php.ini</h3>
<div class="nuxt-content-highlight"><pre class="language-shell line-numbers"><code><span class="token punctuation">;</span>xDebug: Configuration starts

zend_extension <span class="token operator">=</span> PATH_TO_LIBRARY_PHP/xdebug.so
xdebug.remote_enable <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">;</span> <span class="token operator">&lt;</span>IP Host<span class="token operator">></span>: Linux <span class="token builtin class-name">type</span> command: <span class="token function">ifconfig</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"inet "</span> <span class="token operator">|</span> <span class="token function">grep</span> -v <span class="token number">127.0</span>.0.1
<span class="token punctuation">;</span> <span class="token operator">&lt;</span>IP Host<span class="token operator">></span>: Windows <span class="token builtin class-name">type</span> command: ipconfig <span class="token keyword">in</span> cmd
xdebug.remote_host<span class="token operator">=</span><span class="token string">"&lt;IP Host>"</span>
xdebug.remote_port<span class="token operator">=</span><span class="token number">9000</span>
xdebug.profiler_output_dir <span class="token operator">=</span> PATH_TO_PROFILER_OUTPUT_DIR
xdebug.profiler_enable <span class="token operator">=</span> <span class="token number">1</span>
xdebug.remote_log<span class="token operator">=</span>PATH_TO_LOG/xdebug.log

<span class="token punctuation">;</span> The Linux way
xdebug.remote_connect_back <span class="token operator">=</span> <span class="token number">1</span>

<span class="token punctuation">;</span> idekey value is specific to VSCODE
xdebug.idekey<span class="token operator">=</span>VSCODE

<span class="token punctuation">;</span> Optional: Set to <span class="token boolean">true</span> to always auto-start xdebug
xdebug.remote_autostart <span class="token operator">=</span> <span class="token number">1</span>

<span class="token punctuation">;</span>xDebug: Configuration ends
</code></pre></div>
<h3 id="bước-3-cài-đặt-php-debug-extension-trong-vs-code-như-phía-trên"><a href="#b%C6%B0%E1%BB%9Bc-3-c%C3%A0i-%C4%91%E1%BA%B7t-php-debug-extension-trong-vs-code-nh%C6%B0-ph%C3%ADa-tr%C3%AAn" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Bước 3.</strong> Cài đặt PHP Debug Extension trong VS Code như phía trên</h3>
<h3 id="bước-4-ở-bước-này-thay-đổi-thiết-lập-như-sau"><a href="#b%C6%B0%E1%BB%9Bc-4-%E1%BB%9F-b%C6%B0%E1%BB%9Bc-n%C3%A0y-thay-%C4%91%E1%BB%95i-thi%E1%BA%BFt-l%E1%BA%ADp-nh%C6%B0-sau" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Bước 4.</strong> ở bước này thay đổi thiết lập như sau</h3>
<div class="nuxt-content-highlight"><pre class="language-shell line-numbers"><code><span class="token punctuation">{</span>
    <span class="token string">"version"</span><span class="token builtin class-name">:</span> <span class="token string">"0.2.0"</span>,
    <span class="token string">"configurations"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"remote XDebug"</span>,
            <span class="token string">"type"</span><span class="token builtin class-name">:</span> <span class="token string">"php"</span>,
            <span class="token string">"request"</span><span class="token builtin class-name">:</span> <span class="token string">"launch"</span>,
            <span class="token string">"program"</span><span class="token builtin class-name">:</span> <span class="token string">"<span class="token variable">${file}</span>"</span>,
            <span class="token string">"cwd"</span><span class="token builtin class-name">:</span> <span class="token string">"<span class="token variable">${fileDirname}</span>"</span>,
            <span class="token string">"pathMappings"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                // server -<span class="token operator">></span> <span class="token builtin class-name">local</span>
                <span class="token string">"/var/www/html"</span><span class="token builtin class-name">:</span> <span class="token string">"<span class="token variable">${workspaceRoot}</span>/"</span>,
            <span class="token punctuation">}</span>,
            <span class="token string">"port"</span><span class="token builtin class-name">:</span> <span class="token number">9000</span>,
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <div class="blog-nav nav nav-justified my-5"><div class="post-tags mb-3"><span class="fw-bold">Tags: </span> <a href="/tags/VSCode" class="post-tag no-text-decoration"><span class="badge bg-light text-dark">VSCode</span></a></div></div> <div class="blog-comments-section"><div id="disqus_thread" style="min-height:200px"></div></div></div></article> <footer class="footer text-center py-4"><small class="copyright">Copyright © 2021 - <a href="https://tiandev.net" target="_blank">TianDev</a></small></footer></div></div></div></div><script defer src="/public/static/1628438263/thiet-lap-debug-php-tren-visual-studio-code-vscode/state.js"></script><script src="/public/762dbf8.js" defer></script><script src="/public/f804b6e.js" defer></script><script src="/public/2ae72be.js" defer></script><script src="/public/38c9442.js" defer></script><script src="/public/33b1cc2.js" defer></script>
  </body>
</html>
